'use client'

const html = `
<html lang="en" op="news"><head><meta name="referrer" content="origin"><meta name="viewport" content="width=device-width, initial-scale=1.0"><link rel="stylesheet" type="text/css" href="news.css?sOwA2w4A8zIV2E0prLby">
        <link rel="shortcut icon" href="favicon.ico">
          <link rel="alternate" type="application/rss+xml" title="RSS" href="rss">
        <title>Hacker News</title></head><body><center><table id="hnmain" border="0" cellpadding="0" cellspacing="0" width="85%" bgcolor="#f6f6ef">
        <tr><td bgcolor="#ff6600"><table border="0" cellpadding="0" cellspacing="0" width="100%" style="padding:2px"><tr><td style="width:18px;padding-right:4px"><a href="https://news.ycombinator.com"><img src="y18.svg" width="18" height="18" style="border:1px white solid; display:block"></a></td>
                  <td style="line-height:12pt; height:10px;"><span class="pagetop"><b class="hnname"><a href="news">Hacker News</a></b>
                            <a href="newest">new</a> | <a href="threads?id=danfarrelly">threads</a> | <a href="front">past</a> | <a href="newcomments">comments</a> | <a href="ask">ask</a> | <a href="show">show</a> | <a href="jobs">jobs</a> | <a href="submit">submit</a>            </span></td><td style="text-align:right;padding-right:4px;"><span class="pagetop">
                              <a id='me' href="user?id=danfarrelly">danfarrelly</a> (<span id='karma'>49</span>) | <a id='logout' href="logout?auth=b19d052878448a98bb8b3b6ebeae31488a90462d&amp;goto=news">logout</a>                          </span></td>
              </tr></table></td></tr>
<tr id="pagespace" title="" style="height:10px"></tr><tr><td><table border="0" cellpadding="0" cellspacing="0">
            <tr class='athing' id='36451936'>
      <td align="right" valign="top" class="title"><span class="rank">1.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36451936' class='clicky' href='vote?id=36451936&amp;how=up&amp;auth=3ae252316b6f82b7810bc9921c886e7a0bd60938&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="http://web.archive.org/web/20200807162348/https://oceangate.com/news-and-media/blog/2019-0221-why-titan-is-not-classed.html" rel="noreferrer">Why Isn&#x27;t Titan Classed?</a><span class="sitebit comhead"> (<a href="from?site=archive.org"><span class="sitestr">archive.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36451936">107 points</span> by <a href="user?id=ZeljkoS" class="hnuser">ZeljkoS</a> <span class="age" title="2023-06-23T20:41:10"><a href="item?id=36451936">1 hour ago</a></span> <span id="unv_36451936"></span> | <a href="flag?id=36451936&amp;auth=3ae252316b6f82b7810bc9921c886e7a0bd60938&amp;goto=news">flag</a> | <a href="hide?id=36451936&amp;auth=3ae252316b6f82b7810bc9921c886e7a0bd60938&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36451936">92&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36449788'>
      <td align="right" valign="top" class="title"><span class="rank">2.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36449788' class='clicky' href='vote?id=36449788&amp;how=up&amp;auth=9fb1ec4f26662e28b437af195872ac3efecef504&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://blogs.nvidia.com/blog/2022/03/25/what-is-a-transformer-model/" rel="noreferrer">What Is a Transformer Model?</a><span class="sitebit comhead"> (<a href="from?site=nvidia.com"><span class="sitestr">nvidia.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36449788">184 points</span> by <a href="user?id=Anon84" class="hnuser">Anon84</a> <span class="age" title="2023-06-23T17:24:02"><a href="item?id=36449788">4 hours ago</a></span> <span id="unv_36449788"></span> | <a href="flag?id=36449788&amp;auth=9fb1ec4f26662e28b437af195872ac3efecef504&amp;goto=news">flag</a> | <a href="hide?id=36449788&amp;auth=9fb1ec4f26662e28b437af195872ac3efecef504&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36449788">33&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36448759'>
      <td align="right" valign="top" class="title"><span class="rank">3.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36448759' class='clicky' href='vote?id=36448759&amp;how=up&amp;auth=9d90d4c1a21c13073ac6e2972d20afcecbadce61&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://verdagon.dev/blog/vale-memory-safe-cpp" rel="noreferrer">Making C++ safe without borrow checking, reference counting, or tracing GC</a><span class="sitebit comhead"> (<a href="from?site=verdagon.dev"><span class="sitestr">verdagon.dev</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36448759">163 points</span> by <a href="user?id=jandeboevrie" class="hnuser">jandeboevrie</a> <span class="age" title="2023-06-23T16:04:30"><a href="item?id=36448759">5 hours ago</a></span> <span id="unv_36448759"></span> | <a href="flag?id=36448759&amp;auth=9d90d4c1a21c13073ac6e2972d20afcecbadce61&amp;goto=news">flag</a> | <a href="hide?id=36448759&amp;auth=9d90d4c1a21c13073ac6e2972d20afcecbadce61&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36448759">104&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36451572'>
      <td align="right" valign="top" class="title"><span class="rank">4.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36451572' class='clicky' href='vote?id=36451572&amp;how=up&amp;auth=6429f94d4358dc56393d45bb7ffbde789e21dc4e&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://slack.engineering/real-time-messaging/" rel="noreferrer">Real-Time Messaging</a><span class="sitebit comhead"> (<a href="from?site=slack.engineering"><span class="sitestr">slack.engineering</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36451572">24 points</span> by <a href="user?id=fagnerbrack" class="hnuser">fagnerbrack</a> <span class="age" title="2023-06-23T20:04:01"><a href="item?id=36451572">1 hour ago</a></span> <span id="unv_36451572"></span> | <a href="flag?id=36451572&amp;auth=6429f94d4358dc56393d45bb7ffbde789e21dc4e&amp;goto=news">flag</a> | <a href="hide?id=36451572&amp;auth=6429f94d4358dc56393d45bb7ffbde789e21dc4e&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36451572">discuss</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36446045'>
      <td align="right" valign="top" class="title"><span class="rank">5.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36446045' class='clicky' href='vote?id=36446045&amp;how=up&amp;auth=8c1017e754940a9cbd9b1a7ad96bc8a1537bdfd5&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://editor.vrite.io/" rel="noreferrer">Show HN: An open-source, collaborative, WYSIWYG Markdown editor</a><span class="sitebit comhead"> (<a href="from?site=vrite.io"><span class="sitestr">vrite.io</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36446045">339 points</span> by <a href="user?id=arek_nawo" class="hnuser">arek_nawo</a> <span class="age" title="2023-06-23T12:40:12"><a href="item?id=36446045">9 hours ago</a></span> <span id="unv_36446045"></span> | <a href="flag?id=36446045&amp;auth=8c1017e754940a9cbd9b1a7ad96bc8a1537bdfd5&amp;goto=news">flag</a> | <a href="hide?id=36446045&amp;auth=8c1017e754940a9cbd9b1a7ad96bc8a1537bdfd5&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36446045">119&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36448791'>
      <td align="right" valign="top" class="title"><span class="rank">6.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36448791' class='clicky' href='vote?id=36448791&amp;how=up&amp;auth=bbc5091fd57b760fb70dbaf349666e027e2103fc&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.esa.int/Enabling_Support/Space_Transportation/Full_ignition_for_ESA_s_reusable_rocket_engine" rel="noreferrer">Full ignition for ESAâ€™s reusable rocket engine</a><span class="sitebit comhead"> (<a href="from?site=esa.int"><span class="sitestr">esa.int</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36448791">106 points</span> by <a href="user?id=ZacnyLos" class="hnuser">ZacnyLos</a> <span class="age" title="2023-06-23T16:06:28"><a href="item?id=36448791">5 hours ago</a></span> <span id="unv_36448791"></span> | <a href="flag?id=36448791&amp;auth=bbc5091fd57b760fb70dbaf349666e027e2103fc&amp;goto=news">flag</a> | <a href="hide?id=36448791&amp;auth=bbc5091fd57b760fb70dbaf349666e027e2103fc&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36448791">78&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36446637'>
      <td align="right" valign="top" class="title"><span class="rank">7.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36446637' class='clicky' href='vote?id=36446637&amp;how=up&amp;auth=1efb29999615bec9ad4d86fd0e6c3dc4966ab281&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://github.com/arwes/arwes">Arwes: Futuristic Sci-Fi UI Web Framework</a><span class="sitebit comhead"> (<a href="from?site=github.com/arwes"><span class="sitestr">github.com/arwes</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36446637">236 points</span> by <a href="user?id=klaussilveira" class="hnuser">klaussilveira</a> <span class="age" title="2023-06-23T13:34:13"><a href="item?id=36446637">8 hours ago</a></span> <span id="unv_36446637"></span> | <a href="flag?id=36446637&amp;auth=1efb29999615bec9ad4d86fd0e6c3dc4966ab281&amp;goto=news">flag</a> | <a href="hide?id=36446637&amp;auth=1efb29999615bec9ad4d86fd0e6c3dc4966ab281&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36446637">66&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36446787'>
      <td align="right" valign="top" class="title"><span class="rank">8.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36446787' class='clicky' href='vote?id=36446787&amp;how=up&amp;auth=9d44ab7213beaec2899d440688cd618bb5b575b1&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://dl.acm.org/doi/pdf/10.1145/3593856.3595903" rel="noreferrer">Putting out the hardware dumpster fire</a><span class="sitebit comhead"> (<a href="from?site=acm.org"><span class="sitestr">acm.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36446787">147 points</span> by <a href="user?id=peter_d_sherman" class="hnuser">peter_d_sherman</a> <span class="age" title="2023-06-23T13:48:30"><a href="item?id=36446787">8 hours ago</a></span> <span id="unv_36446787"></span> | <a href="flag?id=36446787&amp;auth=9d44ab7213beaec2899d440688cd618bb5b575b1&amp;goto=news">flag</a> | <a href="hide?id=36446787&amp;auth=9d44ab7213beaec2899d440688cd618bb5b575b1&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36446787">51&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36451149'>
      <td align="right" valign="top" class="title"><span class="rank">9.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36451149' class='clicky' href='vote?id=36451149&amp;how=up&amp;auth=6b86385cb8db68bd4e4bd7b65d5414de219e8a41&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://arxiv.org/abs/2306.11827" rel="noreferrer">Any Deep ReLU Network Is Shallow</a><span class="sitebit comhead"> (<a href="from?site=arxiv.org"><span class="sitestr">arxiv.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36451149">28 points</span> by <a href="user?id=headalgorithm" class="hnuser">headalgorithm</a> <span class="age" title="2023-06-23T19:25:43"><a href="item?id=36451149">1 hour ago</a></span> <span id="unv_36451149"></span> | <a href="flag?id=36451149&amp;auth=6b86385cb8db68bd4e4bd7b65d5414de219e8a41&amp;goto=news">flag</a> | <a href="hide?id=36451149&amp;auth=6b86385cb8db68bd4e4bd7b65d5414de219e8a41&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36451149">14&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36437767'>
      <td align="right" valign="top" class="title"><span class="rank">10.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36437767' class='clicky' href='vote?id=36437767&amp;how=up&amp;auth=a8a85d1d834da8bcf13751ba4210d38332b1ed89&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://news.artnet.com/art-world/thomas-cromwell-prayer-book-trinity-college-cambridge-2319174" rel="noreferrer">A bejeweled prayer book has been identified as belonging to Thomas Cromwell</a><span class="sitebit comhead"> (<a href="from?site=artnet.com"><span class="sitestr">artnet.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36437767">58 points</span> by <a href="user?id=pepys" class="hnuser">pepys</a> <span class="age" title="2023-06-22T19:49:05"><a href="item?id=36437767">6 hours ago</a></span> <span id="unv_36437767"></span> | <a href="flag?id=36437767&amp;auth=a8a85d1d834da8bcf13751ba4210d38332b1ed89&amp;goto=news">flag</a> | <a href="hide?id=36437767&amp;auth=a8a85d1d834da8bcf13751ba4210d38332b1ed89&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36437767">38&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36449894'>
      <td align="right" valign="top" class="title"><span class="rank">11.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36449894' class='clicky' href='vote?id=36449894&amp;how=up&amp;auth=6eaa75cc79a4eb56d7763c23d41b148bee9f05ea&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="http://www.paulgraham.com/jessica.html" rel="noreferrer">Jessica Livingston (2015)</a><span class="sitebit comhead"> (<a href="from?site=paulgraham.com"><span class="sitestr">paulgraham.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36449894">177 points</span> by <a href="user?id=cperciva" class="hnuser">cperciva</a> <span class="age" title="2023-06-23T17:33:11"><a href="item?id=36449894">4 hours ago</a></span> <span id="unv_36449894"></span> | <a href="flag?id=36449894&amp;auth=6eaa75cc79a4eb56d7763c23d41b148bee9f05ea&amp;goto=news">flag</a> | <a href="hide?id=36449894&amp;auth=6eaa75cc79a4eb56d7763c23d41b148bee9f05ea&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36449894">135&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36448789'>
      <td align="right" valign="top" class="title"><span class="rank">12.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36448789' class='clicky' href='vote?id=36448789&amp;how=up&amp;auth=3f7319cbc909f9fa6361e301c955948dab74acc0&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://curia.europa.eu/jcms/upload/docs/application/pdf/2023-06/cp230110en.pdf" rel="noreferrer">EU Advocate General: Technical Standards must be freely available without charge</a><span class="sitebit comhead"> (<a href="from?site=europa.eu"><span class="sitestr">europa.eu</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36448789">275 points</span> by <a href="user?id=layer8" class="hnuser">layer8</a> <span class="age" title="2023-06-23T16:06:21"><a href="item?id=36448789">5 hours ago</a></span> <span id="unv_36448789"></span> | <a href="flag?id=36448789&amp;auth=3f7319cbc909f9fa6361e301c955948dab74acc0&amp;goto=news">flag</a> | <a href="hide?id=36448789&amp;auth=3f7319cbc909f9fa6361e301c955948dab74acc0&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36448789">35&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36448270'>
      <td align="right" valign="top" class="title"><span class="rank">13.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36448270' class='clicky' href='vote?id=36448270&amp;how=up&amp;auth=07505daeaf907ed640a34affc20fd80738684c59&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="http://roguetemple.com/z/hyper/dev.php" rel="noreferrer">How to create a game using hyperbolic geometry? (2020)</a><span class="sitebit comhead"> (<a href="from?site=roguetemple.com"><span class="sitestr">roguetemple.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36448270">70 points</span> by <a href="user?id=bumbledraven" class="hnuser">bumbledraven</a> <span class="age" title="2023-06-23T15:31:37"><a href="item?id=36448270">6 hours ago</a></span> <span id="unv_36448270"></span> | <a href="flag?id=36448270&amp;auth=07505daeaf907ed640a34affc20fd80738684c59&amp;goto=news">flag</a> | <a href="hide?id=36448270&amp;auth=07505daeaf907ed640a34affc20fd80738684c59&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36448270">20&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36452290'>
      <td align="right" valign="top" class="title"><span class="rank">14.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36452290' class='clicky' href='vote?id=36452290&amp;how=up&amp;auth=5f8f3e7bd4f0d2e28102405263513702dcbd26cb&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.worldbulletin.net/asia-pacific/wagner-coup-in-russia-wagner-declared-war-on-the-russian-army-h215840.html" rel="noreferrer">Wagner coup in Russia? Wagner declared war on the Russian army</a><span class="sitebit comhead"> (<a href="from?site=worldbulletin.net"><span class="sitestr">worldbulletin.net</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36452290">31 points</span> by <a href="user?id=_V_" class="hnuser">_V_</a> <span class="age" title="2023-06-23T21:19:49"><a href="item?id=36452290">36 minutes ago</a></span> <span id="unv_36452290"></span> | <a href="flag?id=36452290&amp;auth=5f8f3e7bd4f0d2e28102405263513702dcbd26cb&amp;goto=news">flag</a> | <a href="hide?id=36452290&amp;auth=5f8f3e7bd4f0d2e28102405263513702dcbd26cb&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36452290">16&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36447683'>
      <td align="right" valign="top" class="title"><span class="rank">15.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36447683' class='clicky' href='vote?id=36447683&amp;how=up&amp;auth=a47c210b31cfbda99954db243082185fc916f6a1&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://openpm.ai/" rel="noreferrer">Show HN: A package manager for AI plugins</a><span class="sitebit comhead"> (<a href="from?site=openpm.ai"><span class="sitestr">openpm.ai</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36447683">66 points</span> by <a href="user?id=maccaw" class="hnuser">maccaw</a> <span class="age" title="2023-06-23T14:56:22"><a href="item?id=36447683">6 hours ago</a></span> <span id="unv_36447683"></span> | <a href="flag?id=36447683&amp;auth=a47c210b31cfbda99954db243082185fc916f6a1&amp;goto=news">flag</a> | <a href="hide?id=36447683&amp;auth=a47c210b31cfbda99954db243082185fc916f6a1&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36447683">15&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36452182'>
      <td align="right" valign="top" class="title"><span class="rank">16.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36452182' class='clicky' href='vote?id=36452182&amp;how=up&amp;auth=f1c42ba69e4dd8be5de6e405f17b6639b7358a36&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="item?id=36452182">How to escape meeting hell as an engineer?</a></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36452182">13 points</span> by <a href="user?id=sinwise" class="hnuser"><font color="#3c963c">sinwise</font></a> <span class="age" title="2023-06-23T21:09:12"><a href="item?id=36452182">46 minutes ago</a></span> <span id="unv_36452182"></span> | <a href="flag?id=36452182&amp;auth=f1c42ba69e4dd8be5de6e405f17b6639b7358a36&amp;goto=news">flag</a> | <a href="hide?id=36452182&amp;auth=f1c42ba69e4dd8be5de6e405f17b6639b7358a36&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36452182">12&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36424375'>
      <td align="right" valign="top" class="title"><span class="rank">17.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36424375' class='clicky' href='vote?id=36424375&amp;how=up&amp;auth=54b6810a76738e3e6907f1277ffc4641266253df&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://github.com/joxeankoret/diaphora">Diaphora, the most advanced Free and Open Source program diffing tool</a><span class="sitebit comhead"> (<a href="from?site=github.com/joxeankoret"><span class="sitestr">github.com/joxeankoret</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36424375">73 points</span> by <a href="user?id=DyslexicAtheist" class="hnuser">DyslexicAtheist</a> <span class="age" title="2023-06-21T20:58:39"><a href="item?id=36424375">8 hours ago</a></span> <span id="unv_36424375"></span> | <a href="flag?id=36424375&amp;auth=54b6810a76738e3e6907f1277ffc4641266253df&amp;goto=news">flag</a> | <a href="hide?id=36424375&amp;auth=54b6810a76738e3e6907f1277ffc4641266253df&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36424375">12&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36427385'>
      <td align="right" valign="top" class="title"><span class="rank">18.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36427385' class='clicky' href='vote?id=36427385&amp;how=up&amp;auth=4de5118981ea3091463097054a0824e4e9abcf16&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.eveonline.com/news/view/information-is-power-excel-release" rel="noreferrer">EVE Online: Add-in for MS Excel</a><span class="sitebit comhead"> (<a href="from?site=eveonline.com"><span class="sitestr">eveonline.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36427385">262 points</span> by <a href="user?id=zdw" class="hnuser">zdw</a> <span class="age" title="2023-06-22T02:36:49"><a href="item?id=36427385">15 hours ago</a></span> <span id="unv_36427385"></span> | <a href="flag?id=36427385&amp;auth=4de5118981ea3091463097054a0824e4e9abcf16&amp;goto=news">flag</a> | <a href="hide?id=36427385&amp;auth=4de5118981ea3091463097054a0824e4e9abcf16&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36427385">128&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36421029'>
      <td align="right" valign="top" class="title"><span class="rank">19.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36421029' class='clicky' href='vote?id=36421029&amp;how=up&amp;auth=6ef9e40628ca8f074c37c76da452eac60a963d92&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://en.wikipedia.org/wiki/Musicogenic_seizure" rel="noreferrer">Musicogenic Seizure</a><span class="sitebit comhead"> (<a href="from?site=wikipedia.org"><span class="sitestr">wikipedia.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36421029">15 points</span> by <a href="user?id=thunderbong" class="hnuser">thunderbong</a> <span class="age" title="2023-06-21T16:51:01"><a href="item?id=36421029">3 hours ago</a></span> <span id="unv_36421029"></span> | <a href="flag?id=36421029&amp;auth=6ef9e40628ca8f074c37c76da452eac60a963d92&amp;goto=news">flag</a> | <a href="hide?id=36421029&amp;auth=6ef9e40628ca8f074c37c76da452eac60a963d92&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36421029">7&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36447871'>
      <td align="right" valign="top" class="title"><span class="rank">20.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36447871' class='clicky' href='vote?id=36447871&amp;how=up&amp;auth=c085244eb52b854b3d56f9f16e9ba239fa5a31af&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.react-graph-gallery.com" rel="noreferrer">Show HN: A gallery of graphs built with React and D3.js</a><span class="sitebit comhead"> (<a href="from?site=react-graph-gallery.com"><span class="sitestr">react-graph-gallery.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36447871">186 points</span> by <a href="user?id=holtzy" class="hnuser"><font color="#3c963c">holtzy</font></a> <span class="age" title="2023-06-23T15:07:43"><a href="item?id=36447871">6 hours ago</a></span> <span id="unv_36447871"></span> | <a href="flag?id=36447871&amp;auth=c085244eb52b854b3d56f9f16e9ba239fa5a31af&amp;goto=news">flag</a> | <a href="hide?id=36447871&amp;auth=c085244eb52b854b3d56f9f16e9ba239fa5a31af&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36447871">34&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36450822'>
      <td align="right" valign="top" class="title"><span class="rank">21.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36450822' class='clicky' href='vote?id=36450822&amp;how=up&amp;auth=bfa9eb0f2d855ce15ea60b9d10ebb0ad6531f080&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.pv-magazine.com/2023/06/23/china-solar-module-prices-keep-diving/" rel="noreferrer">China solar module prices keep diving</a><span class="sitebit comhead"> (<a href="from?site=pv-magazine.com"><span class="sitestr">pv-magazine.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36450822">73 points</span> by <a href="user?id=flipbrad" class="hnuser">flipbrad</a> <span class="age" title="2023-06-23T18:54:02"><a href="item?id=36450822">2 hours ago</a></span> <span id="unv_36450822"></span> | <a href="flag?id=36450822&amp;auth=bfa9eb0f2d855ce15ea60b9d10ebb0ad6531f080&amp;goto=news">flag</a> | <a href="hide?id=36450822&amp;auth=bfa9eb0f2d855ce15ea60b9d10ebb0ad6531f080&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36450822">68&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36446766'>
      <td align="right" valign="top" class="title"><span class="rank">22.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36446766' class='clicky' href='vote?id=36446766&amp;how=up&amp;auth=b223783fd574c2ce2a748ccd43b05c1c5089e143&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.quantamagazine.org/computer-scientists-inch-closer-to-major-algorithmic-goal-20230623/" rel="noreferrer">A new, faster algorithm for the group isomorphism problem</a><span class="sitebit comhead"> (<a href="from?site=quantamagazine.org"><span class="sitestr">quantamagazine.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36446766">81 points</span> by <a href="user?id=theafh" class="hnuser">theafh</a> <span class="age" title="2023-06-23T13:46:48"><a href="item?id=36446766">8 hours ago</a></span> <span id="unv_36446766"></span> | <a href="flag?id=36446766&amp;auth=b223783fd574c2ce2a748ccd43b05c1c5089e143&amp;goto=news">flag</a> | <a href="hide?id=36446766&amp;auth=b223783fd574c2ce2a748ccd43b05c1c5089e143&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36446766">11&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36445625'>
      <td align="right" valign="top" class="title"><span class="rank">23.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36445625' class='clicky' href='vote?id=36445625&amp;how=up&amp;auth=0d13d840eb419be73beb28cb60d01b3ad08c8f7c&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://ohwr.org/project/white-rabbit/wikis/home" rel="noreferrer">White Rabbit Project (2020)</a><span class="sitebit comhead"> (<a href="from?site=ohwr.org"><span class="sitestr">ohwr.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36445625">93 points</span> by <a href="user?id=kimburgess" class="hnuser">kimburgess</a> <span class="age" title="2023-06-23T11:57:05"><a href="item?id=36445625">9 hours ago</a></span> <span id="unv_36445625"></span> | <a href="flag?id=36445625&amp;auth=0d13d840eb419be73beb28cb60d01b3ad08c8f7c&amp;goto=news">flag</a> | <a href="hide?id=36445625&amp;auth=0d13d840eb419be73beb28cb60d01b3ad08c8f7c&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36445625">20&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36447024'>
      <td align="right" valign="top" class="title"><span class="rank">24.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36447024' class='clicky' href='vote?id=36447024&amp;how=up&amp;auth=b006cac26ea89f17ef12ae69cce77cf5a2c9a0f8&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="item?id=36447024">Ask HN: IP cameras that don&#x27;t require an app or internet?</a></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36447024">264 points</span> by <a href="user?id=POCKET_SANDO" class="hnuser">POCKET_SANDO</a> <span class="age" title="2023-06-23T14:08:15"><a href="item?id=36447024">7 hours ago</a></span> <span id="unv_36447024"></span> | <a href="flag?id=36447024&amp;auth=b006cac26ea89f17ef12ae69cce77cf5a2c9a0f8&amp;goto=news">flag</a> | <a href="hide?id=36447024&amp;auth=b006cac26ea89f17ef12ae69cce77cf5a2c9a0f8&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36447024">159&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36445656'>
      <td align="right" valign="top" class="title"><span class="rank">25.</span></td>      <td><img src="s.gif" height="1" width="14"></td>       <td class="title"><span class="titleline"><a href="https://jobs.lever.co/givecampus/44af3199-546a-404a-95fd-a097ef37e915" rel="nofollow noreferrer">GiveCampus (YC S15) hiring rails engineers passionate about education</a><span class="sitebit comhead"> (<a href="from?site=lever.co"><span class="sitestr">lever.co</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext">
        <span class="age" title="2023-06-23T12:01:16"><a href="item?id=36445656">9 hours ago</a></span> | <a href="hide?id=36445656&amp;auth=8f794ed5d7015cf9b66e034654abfbb2d28ccecf&amp;goto=news" class="clicky">hide</a>      </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36438654'>
      <td align="right" valign="top" class="title"><span class="rank">26.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36438654' class='clicky' href='vote?id=36438654&amp;how=up&amp;auth=035891f086ea8a960de664e1bb902ad43971ec63&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://publicdomainreview.org/collection/fancy-turning" rel="noreferrer">Specimens of Fancy Turning (1869)</a><span class="sitebit comhead"> (<a href="from?site=publicdomainreview.org"><span class="sitestr">publicdomainreview.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36438654">13 points</span> by <a href="user?id=prismatic" class="hnuser">prismatic</a> <span class="age" title="2023-06-22T20:41:57"><a href="item?id=36438654">4 hours ago</a></span> <span id="unv_36438654"></span> | <a href="flag?id=36438654&amp;auth=035891f086ea8a960de664e1bb902ad43971ec63&amp;goto=news">flag</a> | <a href="hide?id=36438654&amp;auth=035891f086ea8a960de664e1bb902ad43971ec63&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36438654">3&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36445197'>
      <td align="right" valign="top" class="title"><span class="rank">27.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36445197' class='clicky' href='vote?id=36445197&amp;how=up&amp;auth=0ab5c2704a442e0df28a82767622e69efd2344f9&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://arxiv.org/abs/2306.12672" rel="noreferrer">From Word Models to World Models</a><span class="sitebit comhead"> (<a href="from?site=arxiv.org"><span class="sitestr">arxiv.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36445197">81 points</span> by <a href="user?id=dimmuborgir" class="hnuser">dimmuborgir</a> <span class="age" title="2023-06-23T10:57:26"><a href="item?id=36445197">10 hours ago</a></span> <span id="unv_36445197"></span> | <a href="flag?id=36445197&amp;auth=0ab5c2704a442e0df28a82767622e69efd2344f9&amp;goto=news">flag</a> | <a href="hide?id=36445197&amp;auth=0ab5c2704a442e0df28a82767622e69efd2344f9&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36445197">80&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36446158'>
      <td align="right" valign="top" class="title"><span class="rank">28.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36446158' class='clicky' href='vote?id=36446158&amp;how=up&amp;auth=44b68bd95dad22d7345af8b7e554c5fe94311111&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://serge-sans-paille.github.io/pythran-stories/shrinking-a-shared-library.html" rel="noreferrer">Shrinking a Shared Library</a><span class="sitebit comhead"> (<a href="from?site=serge-sans-paille.github.io"><span class="sitestr">serge-sans-paille.github.io</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36446158">61 points</span> by <a href="user?id=todsacerdoti" class="hnuser">todsacerdoti</a> <span class="age" title="2023-06-23T12:53:06"><a href="item?id=36446158">9 hours ago</a></span> <span id="unv_36446158"></span> | <a href="flag?id=36446158&amp;auth=44b68bd95dad22d7345af8b7e554c5fe94311111&amp;goto=news">flag</a> | <a href="hide?id=36446158&amp;auth=44b68bd95dad22d7345af8b7e554c5fe94311111&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36446158">23&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36447566'>
      <td align="right" valign="top" class="title"><span class="rank">29.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36447566' class='clicky' href='vote?id=36447566&amp;how=up&amp;auth=aa7746d2157df445011736f2826206939f01a87c&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://spectrum.ieee.org/iron-fuel" rel="noreferrer">Iron fuel shows its mettle</a><span class="sitebit comhead"> (<a href="from?site=ieee.org"><span class="sitestr">ieee.org</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36447566">135 points</span> by <a href="user?id=mfiguiere" class="hnuser">mfiguiere</a> <span class="age" title="2023-06-23T14:48:54"><a href="item?id=36447566">7 hours ago</a></span> <span id="unv_36447566"></span> | <a href="flag?id=36447566&amp;auth=aa7746d2157df445011736f2826206939f01a87c&amp;goto=news">flag</a> | <a href="hide?id=36447566&amp;auth=aa7746d2157df445011736f2826206939f01a87c&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36447566">152&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
                <tr class='athing' id='36447433'>
      <td align="right" valign="top" class="title"><span class="rank">30.</span></td>      <td valign="top" class="votelinks"><center><a id='up_36447433' class='clicky' href='vote?id=36447433&amp;how=up&amp;auth=b916d51574e3468ce340aa57f3187ab21680f993&amp;goto=news'><div class='votearrow' title='upvote'></div></a></center></td><td class="title"><span class="titleline"><a href="https://www.theguardian.com/technology/2023/jun/23/two-us-lawyers-fined-submitting-fake-court-citations-chatgpt" rel="noreferrer">Two US lawyers fined for submitting fake court citations from ChatGPT</a><span class="sitebit comhead"> (<a href="from?site=theguardian.com"><span class="sitestr">theguardian.com</span></a>)</span></span></td></tr><tr><td colspan="2"></td><td class="subtext"><span class="subline">
          <span class="score" id="score_36447433">180 points</span> by <a href="user?id=gorbachev" class="hnuser">gorbachev</a> <span class="age" title="2023-06-23T14:40:41"><a href="item?id=36447433">7 hours ago</a></span> <span id="unv_36447433"></span> | <a href="flag?id=36447433&amp;auth=b916d51574e3468ce340aa57f3187ab21680f993&amp;goto=news">flag</a> | <a href="hide?id=36447433&amp;auth=b916d51574e3468ce340aa57f3187ab21680f993&amp;goto=news" class="clicky">hide</a> | <a href="item?id=36447433">143&nbsp;comments</a>        </span>
              </td></tr>
      <tr class="spacer" style="height:5px"></tr>
            <tr class="morespace" style="height:10px"></tr><tr><td colspan="2"></td>
      <td class='title'><a href='?p=2' class='morelink' rel='next'>More</a></td>    </tr>
  </table>
</td></tr>
<tr><td><img src="s.gif" height="10" width="0"><table width="100%" cellspacing="0" cellpadding="1"><tr><td bgcolor="#ff6600"></td></tr></table><br>
<center><span class="yclinks"><a href="newsguidelines.html">Guidelines</a> | <a href="newsfaq.html">FAQ</a> | <a href="lists">Lists</a> | <a href="https://github.com/HackerNews/API">API</a> | <a href="security.html">Security</a> | <a href="https://www.ycombinator.com/legal/">Legal</a> | <a href="https://www.ycombinator.com/apply/">Apply to YC</a> | <a href="mailto:hn@ycombinator.com">Contact</a></span><br><br>
<form method="get" action="//hn.algolia.com/">Search: <input type="text" name="q" size="17" autocorrect="off" spellcheck="false" autocapitalize="off" autocomplete="false"></form></center></td></tr>      </table></center></body>
      <script type='text/javascript' src='hn.js?sOwA2w4A8zIV2E0prLby'></script>
  </html>
`

import { ChatCompletionFunctions } from 'openai-edge/types/api'
import { Message } from 'ai/react'
import { useChat } from 'ai/react'
import { ChatRequest, FunctionCallHandler, nanoid } from 'ai'

const functions: ChatCompletionFunctions[] = [
  {
    name: 'browse_webpage_url',
    description: 'Browse a webpage for additional information',
    parameters: {
      type: 'object',
      properties: {
        url: {
          type: 'string',
          description: 'The full URL of the webpage we wish to visit'
        }
      },
      required: ['url']
    }
  },
  {
    name: 'get_webpage_links',
    description: 'Scrape links from a given webpage URL',
    parameters: {
      type: 'object',
      properties: {
        url: {
          type: 'string',
          description: 'The full URL of the webpage we wish to visit'
        }
      },
      required: ['url']
    }
  }
]

export default function Chat() {
  const functionCallHandler: FunctionCallHandler = async (
    chatMessages,
    functionCall
  ) => {
    console.log('Response', chatMessages, functionCall)
    if (functionCall.name === 'browse_webpage_url') {
      if (functionCall.arguments) {
        const parsedFunctionCallArguments = JSON.parse(functionCall.arguments)
        // You now have access to the parsed arguments here (assuming the JSON was valid)
        // If JSON is invalid, return an appropriate message to the model so that it may retry?
        console.log('Browse webpage', parsedFunctionCallArguments)
      }

      // Generate a random number between 30 and 100 for fake temperature
      const temperature = Math.floor(Math.random() * (100 - 30 + 1) + 30)
      // Generate random weather condition from the options of 'sunny' 'cloudy' 'rainy' 'snowy'
      const weather = ['sunny', 'cloudy', 'rainy', 'snowy'][
        Math.floor(Math.random() * 4)
      ]

      const functionResponse: ChatRequest = {
        messages: [
          ...chatMessages,
          {
            id: nanoid(),
            name: 'browse_webpage_url',
            role: 'function' as const,
            content: JSON.stringify({
              html: html.replace(/\n/, '')
            })
          }
        ]
      }
      return Promise.resolve(functionResponse)
    }
  }

  const { messages, input, handleInputChange, handleSubmit } = useChat({
    api: '/api/chat-with-browsing',
    onFunctionCall: functionCallHandler
  })

  // Generate a map of message role to text color
  const roleToColorMap: Record<Message['role'], string> = {
    system: 'red',
    user: 'black',
    function: 'blue',
    assistant: 'green'
  }

  const getRenderedMessage = (m: Message) => {
    if (m.content === '') {
      if (typeof m.function_call === 'string') {
        return (
          (
            <>
              <p>**** Function Call! **** </p>
              {m.function_call.split('\\n').map((line, index) => (
                <p key={index}>{line}</p>
              ))}
            </>
          ) ?? ''
        )
      } else {
        return (
          (
            <>
              <p>**** {m.function_call?.name!} Function Call! **** </p>
              {m.function_call?.arguments!.split('\\n').map((line, index) => (
                <p key={index}>{line}</p>
              ))}
            </>
          ) ?? ''
        )
      }
    } else {
      return m.content
    }
  }

  return (
    <div className="flex flex-col w-full max-w-md py-24 mx-auto stretch">
      {messages.length > 0
        ? messages.map((m: Message) => (
            <div
              key={m.id}
              className="whitespace-pre-wrap"
              style={{ color: roleToColorMap[m.role] }}
            >
              <strong>{`${
                m.role.charAt(0).toUpperCase() + m.role.slice(1)
              }: `}</strong>
              {getRenderedMessage(m)}
              <br />
              <br />
            </div>
          ))
        : null}
      <div id="chart-goes-here"></div>

      <form onSubmit={e => handleSubmit(e, { functions })}>
        <input
          className="fixed bottom-0 w-full max-w-md p-2 mb-8 border border-gray-300 rounded shadow-xl"
          value={input}
          placeholder="Say something..."
          onChange={handleInputChange}
        />
      </form>
    </div>
  )
}
